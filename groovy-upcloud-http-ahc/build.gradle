apply from: '../gradle/groovy-upcloud-lib.gradle'

modifyPom {
    project {
        name 'Groovy UpCloud ahc'
        description 'Groovy UpCloud ahc provides a Apache HttpAsyncClient based HTTP implementation'
    }
}
dependencies {
    api project(':groovy-upcloud-http-spi')
    testImplementation project(':groovy-upcloud-core')

    api "org.apache.httpcomponents:httpasyncclient:4.1.3", {
        exclude module: 'commons-logging'
    }

    // bridge commons-logging to SLF4J
    runtimeOnly "org.slf4j:jcl-over-slf4j:${versions.slf4j}"

    // Spock will use this for mocking the abstract CloseableHttpAsyncClient
    testImplementation 'cglib:cglib-nodep:2.2'
}

groovydoc {
    link("https://hc.apache.org/httpcomponents-asyncclient-dev/httpasyncclient/apidocs/", "org.apache.http.nio.client.",
                                                                                          'org.apache.http.impl.nio.')
    link("https://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/",                "org.apache.http.")
}