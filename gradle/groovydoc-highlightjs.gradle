// Augment groovydoc with highlightjs

task highlightjs(type: org.gradle.api.tasks.Copy) {
    from "${rootProject.rootDir}/gradle/highlightjs/highlight.pack.js"
    into "${buildDir}/docs/groovydoc/highlightjs"
}

task highlightstyle(type: org.gradle.api.tasks.Copy) {
    from "${rootProject.rootDir}/gradle/highlightjs/styles/foundation.css"
    into "${buildDir}/docs/groovydoc/highlightjs/styles"
}

groovydoc.dependsOn highlightjs
groovydoc.dependsOn highlightstyle

sourceSets {
    highlightjs {
        resources {
            srcDir "${rootProject.rootDir}/gradle/groovydoc"
        }
    }
}

groovydoc {
    classpath = sourceSets.highlightjs.output + classpath
}
